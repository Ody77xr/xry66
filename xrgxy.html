<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>XrCakey Vault - Hump Heaven</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="floating-nav.css?v=1760664105">
    <link rel="stylesheet" href="styles.css?v=1760664105">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'holo-gold': '#FFD700',
                        'holo-blue': '#00FFFF',
                        'holo-purple': '#FF00FF',
                        'holo-green': '#00FF00',
                        'cyber-dark': '#0A0A0F',
                        'cyber-gray': '#1A1A2E'
                    },
                    fontFamily: {
                        'cyber': ['Orbitron', 'monospace'],
                        'mono': ['JetBrains Mono', 'monospace']
                    }
                }
            }
        }
    </script>
    <style>
        .holographic-gradient {
            background: linear-gradient(45deg, #FF00FF, #00FFFF, #FFD700, #FF00FF);
            background-size: 400% 400%;
            animation: holographic 4s ease-in-out infinite;
        }
        
        .holographic-text {
            background: linear-gradient(45deg, #FF00FF, #00FFFF, #FFD700);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: holographic 3s ease-in-out infinite;
        }
        
        .cyber-glow {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3), 0 0 40px rgba(255, 0, 255, 0.2);
        }
        
        @keyframes holographic {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .animate-float { animation: float 3s ease-in-out infinite; }
        
        .glass-morphism {
            background: rgba(26, 26, 46, 0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        html, body { overflow-x: hidden; }
        img, video, iframe { max-width: 100%; height: auto; }

        .video-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .video-card:hover {
            transform: translateY(-5px);
        }

        #passwordScreen {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: linear-gradient(135deg, #0A0A0F 0%, #1A1A2E 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #contentScreen {
            display: none;
        }

        #contentScreen.unlocked {
            display: block;
        }
    </style>
</head>
<body class="bg-cyber-dark text-white overflow-x-hidden">

    <!-- Password Protection Screen -->
    <div id="passwordScreen">
        <div class="glass-morphism cyber-glow rounded-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h1 class="text-4xl font-cyber font-black holographic-text mb-3 animate-float">
                    üîí XRCAKEY_VAULT
                </h1>
                <p class="text-holo-blue font-mono text-sm">// Password Required</p>
            </div>
            
            <div class="mockup-code glass-morphism mb-6 text-xs">
                <pre data-prefix="$" class="text-holo-gold"><code>vault --authenticate --level=restricted</code></pre>
                <pre data-prefix=">" class="text-warning"><code>ACCESS: DENIED</code></pre>
                <pre data-prefix=">" class="text-holo-purple"><code>ENTER PASSWORD TO PROCEED</code></pre>
            </div>

            <form id="passwordForm" class="space-y-4">
                <input 
                    type="password" 
                    id="passwordInput" 
                    placeholder="Enter vault password" 
                    class="input input-bordered w-full bg-cyber-gray text-white font-mono"
                    autocomplete="off"
                />
                <button type="submit" class="btn btn-block holographic-gradient text-cyber-dark font-cyber font-bold">
                    UNLOCK_VAULT
                </button>
                <p id="errorMessage" class="text-red-500 text-sm font-mono text-center hidden">
                    ‚ùå ACCESS DENIED: Invalid password
                </p>
            </form>
        </div>
    </div>

    <!-- Main Content (Hidden until password is correct) -->
    <div id="contentScreen">
        <div class="min-h-screen pt-8 pb-28 relative overflow-hidden">
            <!-- Animated Background -->
            <div class="absolute inset-0 bg-gradient-to-br from-cyber-dark via-cyber-gray to-cyber-dark"></div>
            <div class="absolute inset-0 holographic-gradient opacity-5 animate-pulse"></div>
            
            <!-- Floating Elements -->
            <div class="absolute top-1/4 left-1/6 w-16 h-16 lg:w-20 lg:h-20 holographic-gradient rounded-full blur-xl opacity-30 animate-float"></div>
            <div class="absolute bottom-1/3 right-1/6 w-24 h-24 lg:w-32 lg:h-32 bg-holo-purple rounded-full blur-2xl opacity-20 animate-float" style="animation-delay: 1.5s;"></div>
            
            <div class="max-w-7xl mx-auto px-4 lg:px-6 relative z-10">
                <!-- Header -->
                <div class="text-center mb-8 lg:mb-12">
                    <h1 class="text-3xl sm:text-4xl lg:text-6xl font-cyber font-black holographic-text mb-3 lg:mb-4 animate-float">
                    üîì XRCAKEY_VAULT
                    </h1>
                    <div class="text-base sm:text-lg lg:text-lg font-mono text-holo-blue mb-4 lg:mb-6">// Restricted Access Gallery</div>
                    
                    <!-- System Status -->
                    <div class="mockup-code glass-morphism max-w-md mx-auto mb-6 lg:mb-8 text-xs sm:text-sm">
                        <pre data-prefix="$" class="text-holo-gold"><code>vault --status</code></pre>
                        <pre data-prefix=">" class="text-success"><code>ACCESS: GRANTED</code></pre>
                        <pre data-prefix=">" class="text-holo-blue"><code>VIDEOS: 5</code></pre>
                        <pre data-prefix=">" class="text-holo-purple"><code>MODE: SECURE</code></pre>
                    </div>
                </div>

                <!-- Video Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6" id="videoGrid">
                    
                    <!-- Video 1: Stepbrother Caked Up Family Visit -->
                    <div class="video-card glass-morphism cyber-glow rounded-xl overflow-hidden" onclick="playVideo('video1')">
                        <div class="aspect-video bg-gradient-to-br from-cyber-gray to-cyber-dark flex items-center justify-center relative group">
                            <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-20 transition-all"></div>
                            <svg class="w-20 h-20 text-holo-blue opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all relative z-10" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path>
                            </svg>
                            <div class="absolute bottom-2 right-2 badge badge-sm bg-holo-purple text-cyber-dark font-bold">3:46</div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-cyber text-holo-gold mb-2 line-clamp-2">Ep1: Stepbrother Caked Up Family Visit</h3>
                            <p class="text-gray-400 text-sm font-mono line-clamp-3">Three years ago my stepbrother got married and moved out the city. He finally came back to visit...</p>
                        </div>
                    </div>

                    <!-- Video 2: Co-Worker Jiggly Ride Home Quickie -->
                    <div class="video-card glass-morphism cyber-glow rounded-xl overflow-hidden" onclick="playVideo('video2')">
                        <div class="aspect-video bg-gradient-to-br from-cyber-gray to-cyber-dark flex items-center justify-center relative group">
                            <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-20 transition-all"></div>
                            <svg class="w-20 h-20 text-holo-blue opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all relative z-10" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path>
                            </svg>
                            <div class="absolute bottom-2 right-2 badge badge-sm bg-holo-purple text-cyber-dark font-bold">0:37</div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-cyber text-holo-gold mb-2 line-clamp-2">EP2: Co-Worker Jiggly Ride Home Quickie</h3>
                            <p class="text-gray-400 text-sm font-mono line-clamp-3">SirHumpAlot94 got a job working in the warehouse for Amazon...</p>
                        </div>
                    </div>

                    <!-- Video 3: Sister's Boyfriend Late-Night Asscake Slamfest -->
                    <div class="video-card glass-morphism cyber-glow rounded-xl overflow-hidden" onclick="playVideo('video3')">
                        <div class="aspect-video bg-gradient-to-br from-cyber-gray to-cyber-dark flex items-center justify-center relative group">
                            <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-20 transition-all"></div>
                            <svg class="w-20 h-20 text-holo-blue opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all relative z-10" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path>
                            </svg>
                            <div class="absolute bottom-2 right-2 badge badge-sm bg-holo-purple text-cyber-dark font-bold">6:11</div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-cyber text-holo-gold mb-2 line-clamp-2">Ep3: Sister's Boyfriend Late-Night Asscake Slamfest</h3>
                            <p class="text-gray-400 text-sm font-mono line-clamp-3">My Sister's boyfriend invited me over to smoke a few blunts and chill watching some TV...</p>
                        </div>
                    </div>

                    <!-- Video 4: LandLord Meatcake Move-In Special -->
                    <div class="video-card glass-morphism cyber-glow rounded-xl overflow-hidden" onclick="playVideo('video4')">
                        <div class="aspect-video bg-gradient-to-br from-cyber-gray to-cyber-dark flex items-center justify-center relative group">
                            <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-20 transition-all"></div>
                            <svg class="w-20 h-20 text-holo-blue opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all relative z-10" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path>
                            </svg>
                            <div class="absolute bottom-2 right-2 badge badge-sm bg-holo-purple text-cyber-dark font-bold">8:08</div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-cyber text-holo-gold mb-2 line-clamp-2">EP4: LandLord Meatcake Move-In Special</h3>
                            <p class="text-gray-400 text-sm font-mono line-clamp-3">I finally got my own apartment, the only thing was the Landlord let me move in...</p>
                        </div>
                    </div>

                    <!-- Video 5: Cousin-In-Law Early Morning Dumptruck Humped -->
                    <div class="video-card glass-morphism cyber-glow rounded-xl overflow-hidden" onclick="playVideo('video5')">
                        <div class="aspect-video bg-gradient-to-br from-cyber-gray to-cyber-dark flex items-center justify-center relative group">
                            <div class="absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-20 transition-all"></div>
                            <svg class="w-20 h-20 text-holo-blue opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all relative z-10" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path>
                            </svg>
                            <div class="absolute bottom-2 right-2 badge badge-sm bg-holo-purple text-cyber-dark font-bold">7:19</div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-cyber text-holo-gold mb-2 line-clamp-2">Ep5: Cousin-In-Law Early Morning Dumptruck Humped</h3>
                            <p class="text-gray-400 text-sm font-mono line-clamp-3">My Cousin from My Step mother's side needed a place to crash for a few days...</p>
                        </div>
                    </div>

                </div>

                <!-- Comments Section -->
                <div class="mt-12">
                    <div class="glass-morphism cyber-glow rounded-xl p-6 max-w-4xl mx-auto">
                        <h2 class="text-2xl lg:text-3xl font-cyber holographic-text mb-6">üí¨ VAULT_COMMENTS</h2>
                        
                        <div class="mockup-code glass-morphism mb-6 text-xs">
                            <pre data-prefix="$" class="text-holo-gold"><code>comments --list --vault=xrcakey</code></pre>
                            <pre data-prefix=">" class="text-holo-blue"><code>REALTIME_SYNC: ACTIVE</code></pre>
                            <pre data-prefix=">" class="text-success"><code id="commentCount">LOADING...</code></pre>
                        </div>

                        <!-- Add Comment Form -->
                        <div class="mb-8">
                            <form id="commentForm" class="space-y-4">
                                <input 
                                    type="text" 
                                    id="commentUsername" 
                                    placeholder="Username (optional - leave blank for Anonymous)" 
                                    class="input input-bordered w-full bg-cyber-gray text-white font-mono"
                                    maxlength="30"
                                />
                                <textarea 
                                    id="commentText" 
                                    placeholder="Share your thoughts about the vault..." 
                                    class="textarea textarea-bordered w-full h-24 bg-cyber-gray text-white font-mono"
                                    maxlength="500"
                                    required
                                ></textarea>
                                <button type="submit" class="btn holographic-gradient text-cyber-dark font-cyber font-bold w-full" id="submitCommentBtn">
                                    POST_COMMENT
                                </button>
                            </form>
                        </div>

                        <!-- Comments List -->
                        <div class="space-y-4" id="commentsList">
                            <div class="text-center text-gray-400 font-mono text-sm py-8">
                                Loading comments...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Player Modal -->
    <div class="modal" id="videoPlayerModal">
        <div class="modal-box max-w-7xl glass-morphism cyber-glow">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-cyber text-xl holographic-text" id="modalTitle"></h3>
                <button class="btn btn-sm btn-circle glass-morphism cyber-glow" onclick="closeModal()">
                    <span class="holographic-text text-lg">‚úï</span>
                </button>
            </div>
            
            <div class="bg-cyber-gray rounded-lg mb-4 overflow-hidden cyber-glow" id="modalIframeContainer">
                <!-- Video iframe will be inserted here -->
            </div>
            
            <div class="bg-cyber-gray/50 p-4 rounded-lg">
                <p id="modalDescription" class="font-mono text-gray-300 mb-4"></p>
                <div class="flex flex-wrap justify-center gap-4 text-sm font-mono">
                    <div class="badge badge-outline border-holo-purple text-holo-purple" id="modalDuration"></div>
                    <div class="badge holographic-gradient text-cyber-dark font-bold">XRCAKEY_VAULT</div>
                </div>
            </div>
        </div>
        <label class="modal-backdrop" onclick="closeModal()"></label>
    </div>

    <script>
        // Password Protection
        const VAULT_PASSWORD = '[REDACTED:password]';
        
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const password = document.getElementById('passwordInput').value;
            const correctPassword = 'xr77cake';
            
            if (password === correctPassword) {
                document.getElementById('passwordScreen').style.display = 'none';
                document.getElementById('contentScreen').classList.add('unlocked');
            } else {
                const errorMsg = document.getElementById('errorMessage');
                errorMsg.classList.remove('hidden');
                document.getElementById('passwordInput').value = '';
                setTimeout(() => {
                    errorMsg.classList.add('hidden');
                }, 3000);
            }
        });

        // Video data
        const videos = {
            video1: {
                title: 'Ep1: Stepbrother Caked Up Family Visit',
                description: "Three years ago my stepbrother got married and moved out the city. He finally came back to visit the family and almost immediately I could see how marriage was making him thick and meaty. It didnt help he had on some spandex biker shorts that dug into his meaty thighs, making them squish with every step. That asscake was jigglin', bouncin' with that fabric getting ate up by his cheeks. It was torture to watch that ass walk passed and leaning into stuff. I convinced my Big Bro that those ghetto asscheeks needed to be hxmped and we snuck off in the garage so i could bury this Nigga Dick in his Chubby Caked Up Fagcheeks.",
                duration: '3:46',
                iframe: '<iframe src="https://player.mux.com/Cm9iaVpONxewUZ02EL3RvQ02HITt00DAvjHwsx6o29tzNk" style="width: 100%; border: none; aspect-ratio: 260/461;" allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;" allowfullscreen></iframe>'
            },
            video2: {
                title: 'EP2: Co-Worker Jiggly Ride Home Quickie',
                description: "SirHumpAlot94 got a job working in the warehouse for Amazon. He got paired with this creamy skinned trainer for the day and almost immediately I noticed how those joggers he wore were so comfortably jammed up his wobbly, jiggly asscheeks through the fabric. I asked for a ride home and the entire trip talked about how I'd love to be dick deep in his assmeat the first time I get a chance while letting my dick stand up out of my pants during the ride. We ended up in his backseat slamming, hatefucking his Meaty Wobblecake until I nutted.",
                duration: '0:37',
                iframe: '<iframe src="https://player.mux.com/TLn2OVuqy6PG2J2WaKKubhX7nUzI1AlzRCmIawgYl02M" style="width: 100%; border: none; aspect-ratio: 9/16;" allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;" allowfullscreen></iframe>'
            },
            video3: {
                title: "Ep3: Sister's Boyfriend Late-Night Asscake Slamfest",
                description: "My Sister's boyfriend invited me over to smoke a few blunts and chill watching some TV. When i got there we blew a couple blunts, and then he got to talking about getting more comfortable. Bro came out in some tiny, pathetic Boxer briefs that held his meaty cake up properly. I tried to act normal but the more we relaxed and he kept getting up to get things had those underwear riding up each of his cheeks, wedgied deep in that valley of assmeat. I just couldnt take it, I tore them off him and spend a good deal humping, breeding his cake in the dark..",
                duration: '6:11',
                iframe: '<iframe src="https://player.mux.com/9qNy2rjue4U01FT006XixRXiXaH3WPGdV4Z4wgbo00Wffs" style="width: 100%; border: none; aspect-ratio: 43/64;" allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;" allowfullscreen></iframe>'
            },
            video4: {
                title: 'EP4: LandLord Meatcake Move-In Special',
                description: "I finally got my own apartment, the only thing was the Landlord let me move in while still needing $300 for move-in costs. He came over to discuss it wearing a Hawaiian shirt and cargo shorts so stretched over his padded, wobbly ass so smooth and tightly you could see a panty-line from his underwear eating up those cheeks. I told him that bug, doughy cheeks like his deserve to be hatefucked and dryhumped. He agreed and let a lil' nigga get behind that Wobbly Dumptruck Ass to slamfuck his cheeks until I nutted",
                duration: '8:08',
                iframe: '<iframe src="https://player.mux.com/6j009zJTZdh1jwSJ9X7uG0000WABeLu2dbrQmLZ5CBs6XM" style="width: 100%; border: none; aspect-ratio: 27/26;" allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;" allowfullscreen></iframe>'
            },
            video5: {
                title: 'Ep5: Cousin-In-Law Early Morning Dumptruck Humped',
                description: "My Cousin from My Step mother's side needed a place to crash for a few days so I let him come chill with me. On the first day, Cousin had wore some cotton shorts that were fitted so comfortably on his WobbleWagon as he lounged.We talked for a long time catching up but when he got up and reached to bend over to garb something those shorts wedgied up his shelf of assmeat and I just couldnt take it! I told him how if he's staying with me he mught as well sleep in the bedroom with me and I spent most of the early morning pummeling his jiggle, Dumptruck ass!",
                duration: '7:19',
                iframe: '<iframe src="https://player.mux.com/00QEStaUXw5R87SyYA01hXfFUZEp3YbldpOOM76KP8gYk?metadata-video-title=Ep5&video-title=Ep5" style="width: 100%; border: none; aspect-ratio: 242/211;" allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;" allowfullscreen></iframe>'
            }
        };

        function playVideo(videoId) {
            const video = videos[videoId];
            if (!video) return;

            document.getElementById('modalTitle').textContent = video.title;
            document.getElementById('modalDescription').textContent = video.description;
            document.getElementById('modalDuration').textContent = video.duration;
            document.getElementById('modalIframeContainer').innerHTML = video.iframe;
            
            document.getElementById('videoPlayerModal').classList.add('modal-open');
        }

        function closeModal() {
            document.getElementById('videoPlayerModal').classList.remove('modal-open');
            document.getElementById('modalIframeContainer').innerHTML = '';
        }

        // Comments System with JSONbin.io
        const JSONBIN_API_KEY = '$2a$10$F1XhN8AXp.GM4Nch/BmBA.DYC1GoNgnsWgiDchp7xGlczTfpkUy/2';
        const JSONBIN_BIN_ID = '679166cfe9d26fd8993e4c75'; // XrCakey Vault Comments Bin
        const JSONBIN_BASE_URL = 'https://api.jsonbin.io/v3';

        // Load and display comments
        async function loadComments() {
            try {
                const response = await fetch(`${JSONBIN_BASE_URL}/b/${JSONBIN_BIN_ID}/latest`, {
                    method: 'GET',
                    headers: {
                        'X-Master-Key': JSONBIN_API_KEY
                    }
                });

                if (!response.ok) throw new Error('Failed to load comments');

                const result = await response.json();
                const data = result.record.comments || [];

                const commentsList = document.getElementById('commentsList');
                const commentCount = document.getElementById('commentCount');
                
                commentCount.textContent = `COMMENTS: ${data.length}`;

                if (data.length === 0) {
                    commentsList.innerHTML = '<div class="text-center text-gray-400 font-mono text-sm py-8">No comments yet. Be the first to comment!</div>';
                    return;
                }

                // Sort by created_at descending (newest first)
                const sortedData = [...data].sort((a, b) => new Date(b.created_at) - new Date(a.created_at));

                commentsList.innerHTML = sortedData.map(comment => {
                    const date = new Date(comment.created_at);
                    const timeAgo = getTimeAgo(date);
                    const username = comment.username || 'Anonymous';
                    
                    return `
                        <div class="glass-morphism rounded-lg p-4 hover:border-holo-blue border border-transparent transition-all">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center gap-2">
                                    <div class="avatar placeholder">
                                        <div class="bg-holo-purple text-cyber-dark rounded-full w-8 h-8">
                                            <span class="text-xs font-cyber">${username.charAt(0).toUpperCase()}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="font-cyber text-holo-gold text-sm">${escapeHtml(username)}</div>
                                        <div class="text-xs text-gray-400 font-mono">${timeAgo}</div>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-300 font-mono text-sm whitespace-pre-wrap">${escapeHtml(comment.comment_text)}</p>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('Error loading comments:', error);
                document.getElementById('commentsList').innerHTML = '<div class="text-center text-red-400 font-mono text-sm py-8">Error loading comments. Please refresh.</div>';
            }
        }

        // Post new comment
        document.getElementById('commentForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const username = document.getElementById('commentUsername').value.trim() || 'Anonymous';
            const commentText = document.getElementById('commentText').value.trim();
            const submitBtn = document.getElementById('submitCommentBtn');
            
            if (!commentText) return;

            submitBtn.disabled = true;
            submitBtn.textContent = 'POSTING...';

            try {
                // First, get current comments
                const getResponse = await fetch(`${JSONBIN_BASE_URL}/b/${JSONBIN_BIN_ID}/latest`, {
                    method: 'GET',
                    headers: {
                        'X-Master-Key': JSONBIN_API_KEY
                    }
                });

                if (!getResponse.ok) throw new Error('Failed to fetch comments');

                const result = await getResponse.json();
                const currentComments = result.record.comments || [];

                // Add new comment
                const newComment = {
                    id: Date.now().toString(),
                    username: username,
                    comment_text: commentText,
                    created_at: new Date().toISOString()
                };

                currentComments.push(newComment);

                // Update the bin
                const updateResponse = await fetch(`${JSONBIN_BASE_URL}/b/${JSONBIN_BIN_ID}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Master-Key': JSONBIN_API_KEY
                    },
                    body: JSON.stringify({ comments: currentComments })
                });

                if (!updateResponse.ok) throw new Error('Failed to post comment');

                document.getElementById('commentUsername').value = '';
                document.getElementById('commentText').value = '';
                
                await loadComments();
            } catch (error) {
                console.error('Error posting comment:', error);
                alert('Failed to post comment. Please try again.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'POST_COMMENT';
            }
        });

        // Auto-refresh comments every 10 seconds to simulate real-time
        setInterval(() => {
            loadComments();
        }, 10000);

        // Utility functions
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            if (seconds < 60) return 'just now';
            if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
            if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
            if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;
            return date.toLocaleDateString();
        }

        // Load comments on page load (after password authentication)
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.target.classList.contains('unlocked')) {
                    loadComments();
                    observer.disconnect();
                }
            });
        });

        observer.observe(document.getElementById('contentScreen'), {
            attributes: true,
            attributeFilter: ['class']
        });
    </script>

    <script src="floating-nav.js?v=1760664105"></script>
    <script src="app.js?v=1760664105"></script>
</body>
</html>
